# TBMQ

[![Slack](https://img.shields.io/badge/Slack-TBMQ-1F8B4D?logo=slack)](https://join.slack.com/t/tbmq/shared_invite/zt-31kk3315e-5jtPw8YAKskq1KkUqTrTyQ)
[![TBMQ Builds Server Status](https://img.shields.io/teamcity/build/e/TBMQ_Build?label=TB%20builds%20server&server=https%3A%2F%2Fbuilds.thingsboard.io&logo=data:image/png;base64,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&labelColor=305680)](https://builds.thingsboard.io/viewType.html?buildTypeId=TBMQ_Build&guest=1)
[![Docker Pulls](https://img.shields.io/docker/pulls/thingsboard/tbmq-node?label=Docker%20Pulls&style=flat&color=4C92F7)](https://hub.docker.com/r/thingsboard/tbmq-node)

![banner](https://github.com/user-attachments/assets/3584b592-33dd-4fb4-91d4-47b62b34806c)

<div align="center">
 
# Scalable, fault-tolerant, and durable messaging for millions of MQTT clients.

</div>
<br>
<div align="center">
 
üí° [Get started](https://thingsboard.io/docs/mqtt-broker/getting-started/)&ensp;‚Ä¢&ensp;üåê [Website](https://thingsboard.io/products/mqtt-broker/)&ensp;‚Ä¢&ensp;üìö [Documentation](https://thingsboard.io/docs/mqtt-broker/)&ensp;‚Ä¢&ensp;üìî [Blog](https://thingsboard.io/blog/)&ensp;‚Ä¢&ensp;üï∏Ô∏è [Slack](https://join.slack.com/t/tbmq/shared_invite/zt-31kk3315e-5jtPw8YAKskq1KkUqTrTyQ)&ensp;‚Ä¢&ensp;üîó [LinkedIn](https://www.linkedin.com/company/thingsboard/posts/?feedView=all)

</div>

TBMQ is fully compliant with the MQTT v3.1, v3.1.1 and v5.0 protocols, delivering complete support for all core MQTT features across both single-node and clustered environments. Whether you‚Äôre building scalable IoT solutions or ensuring reliable communication for connected devices, TBMQ meets the latest standards for seamless interoperability.

## üöÄ Installation options
TBMQ offers flexible installation options tailored for both development and large-scale production environments:

* [Docker](https://thingsboard.io/docs/mqtt-broker/install/cluster/docker-compose-setup/).
* Kubernetes (K8s) using [AWS](https://thingsboard.io/docs/mqtt-broker/install/cluster/aws-cluster-setup/), [Azure](https://thingsboard.io/docs/mqtt-broker/install/cluster/azure-cluster-setup/), [GCP](https://thingsboard.io/docs/mqtt-broker/install/cluster/gcp-cluster-setup/).
* [Helm Chart](https://thingsboard.io/docs/mqtt-broker/install/cluster/helm-cluster-setup-options/).

‚û°Ô∏è **[View all installation options and guides ‚ûú](https://thingsboard.io/docs/mqtt-broker/install/installation-options/)**

For **Linux and macOS** users, you can deploy TBMQ in a **single-node setup** using the installation script below.

#### 1. Download and run the installation script

```bash
wget https://raw.githubusercontent.com/thingsboard/tbmq/release-2.2.0/msa/tbmq/configs/tbmq-install-and-run.sh &&
sudo chmod +x tbmq-install-and-run.sh &&
./tbmq-install-and-run.sh
```

#### 2. Open the TBMQ Web UI

After installation, open your browser and navigate to your host on default 8083 port. Example:

```
http://localhost:8083
```

#### 3. Log in using default credentials

```
Username: sysadmin@thingsboard.org
Password: sysadmin
```

See the [**complete guide**](https://thingsboard.io/docs/mqtt-broker/install/docker/) for detailed steps, common troubleshooting scenarios, and advanced configuration.

## üí° Getting started with TBMQ

Check out our [Getting Started guide](https://thingsboard.io/docs/mqtt-broker/getting-started/) to learn the basics of TBMQ. In minutes, you will learn to:

* **Connect** MQTT clients to TBMQ.
* **Configure** authentication and authorization.
* **Subscribe** to topics.
* **Publish** messages.

## üíä Common IoT usage scenarios for TBMQ

At ThingsBoard, we've gained a lot of experience in building scalable IoT applications, which has helped us identify three main scenarios for MQTT-based solutions. 

### 1. Fan-in (telemetry ingestion)
Numerous devices generate a large volume of messages that are consumed by specific applications. Normally, a few applications are set up to handle these lots of incoming data. It must be ensured that they do not miss any single message.
<p align="center">
  <img src="https://github.com/user-attachments/assets/bbc92bcf-c09b-4141-b71d-d5e469ceeec2" 
       alt="Diagram showing fan-in communication pattern" 
       width="600">
</p>

### 2. Fan-out (broadcast messaging)
Numerous devices subscribing to specific updates or notifications that must be delivered. This leads to a few incoming requests that cause a high volume of outgoing data.
<p align="center">
  <img src="https://github.com/user-attachments/assets/85fe89da-ae81-4bef-8d50-c0c21e60b60f" 
       alt="Diagram showing fan-out communication pattern" 
       width="600">
</p>

### 3. Point-to-point (command & control)
Messages are routed between a single publisher and a specific subscriber through uniquely defined topics. Pattern that is primarily used for one-to-one communication. Ideal for private messaging or command-based interactions.
<p align="center">
  <img src="https://github.com/user-attachments/assets/88ce216d-891a-4232-9b4a-8590ded2cdfc" 
       alt="Diagram showing p2p communication pattern" 
       width="600"
       style="margin-left: 10px;">
</p>

Acknowledging these scenarios, we intentionally designed TBMQ to be exceptionally well-suited for all three.

## ‚ú® Features

<table>
  <tr>
    <td width="50%" valign="top">
      <br>
      <div align="center">
        <img src="https://img.thingsboard.io/mqtt-broker/product/scalability.svg" alt="Scalability"/>
        <h3><b>Scalability</b></h3>
      </div>
      <div align="center">
        <p>Scale horizontally to manage more than 100M MQTT connections on a single cluster.</p>
      </div>
      <br>
      <div align="center">
        <a href="https://thingsboard.io/docs/mqtt-broker/reference/100m-connections-performance-test">Read more ‚ûú</a>
      </div>
      <br>
    </td>
    <td width="50%" valign="top">
      <br>
      <div align="center">
        <img src="https://img.thingsboard.io/mqtt-broker/product/performance.svg" alt="Performance"/>
        <h3><b>Performance</b></h3>
      </div>
      <div align="center">
        <p>Process millions of messages per second with 1 TBMQ server and single-digit latency.</p>
      </div>
      <br>
      <div align="center">
        <a href="https://thingsboard.io/docs/mqtt-broker/reference/3m-throughput-single-node-performance-test">Read more ‚ûú</a>
      </div>
      <br>
    </td>
  </tr>
  <tr>
    <td width="50%" valign="top">
      <br>
      <div align="center">
        <img src="https://img.thingsboard.io/mqtt-broker/product/durability.svg" alt="Durability"/>
        <h3><b>Durability</b></h3>
      </div>
      <div align="center">
        <p>Guarantee the persistence and replication of your data to ensure it's never lost.</p>
      </div>
      <br>
      <div align="center">
        <a href="https://thingsboard.io/docs/mqtt-broker/user-guide/mqtt-client-type/">Read more ‚ûú</a>
      </div>
      <br>
    </td>
    <td width="50%" valign="top">
      <br>
      <div align="center">
        <img src="https://img.thingsboard.io/mqtt-broker/product/security.svg" alt="Fault tolerance"/>
        <h3><b>Fault tolerance</b></h3>
      </div>
      <div align="center">
        <p>Prevent single point of failure with masterless nodes in the cluster.</p>
      </div>
      <br>
      <div align="center">
        <a href="https://thingsboard.io/docs/mqtt-broker/integration-architecture/">Read more ‚ûú</a>
      </div>
      <br>
    </td>
  </tr>
</table>

## üìö Administer client sessions

Gain full visibility over your IoT ecosystem with the user-friendly session management dashboard, enabling you to monitor vital session attributes. Seamlessly administer your device subscriptions for efficient data communication.

![TBMQ Client Sessions](https://img.thingsboard.io/mqtt-broker/product/administer-client-session.webp)

<div align="center">

[**Read more about client sessions ‚ûú**](https://thingsboard.io/docs/mqtt-broker/user-guide/ui/sessions/)

</div>

## üè´ Administer client subscriptions

Efficiently manage subscriptions with a powerful and intuitive interface, ensuring optimal client communication and data flow across your IoT network.

![TBMQ Client Sessions](https://img.thingsboard.io/mqtt-broker/product/administer-client-subscriptions.webp)

<div align="center">

[**Read more about client subscriptions ‚ûú**](https://thingsboard.io/docs/qtt-broker/user-guide/ui/subscriptions/)

</div>

## üè´ MQTT client credentials management

Strengthen your IoT security using the MQTT client credentials management system, crafted to handle authenticaion methods as [**Basic**](https://thingsboard.io/docs/mqtt-broker/security/authentication/basic/), [**JWT**](https://thingsboard.io/docs/mqtt-broker/security/authentication/jwt/), [**X.509 Certificate Chain**](https://thingsboard.io/docs/mqtt-broker/security/authentication/x509/) and [**SCRAM**](https://thingsboard.io/docs/mqtt-broker/security/authentication/scram/). 

Manage fine-grained access with per-client ACL rules, and easily monitor or control connectivity using built-in tools for handling [**Blocked clients**](https://thingsboard.io/docs/mqtt-broker/other/blocked-client/) and [**Unauthorized clients**](https://thingsboard.io/docs/mqtt-broker/user-guide/ui/unauthorized-clients/).

![Client Credentials](https://img.thingsboard.io/mqtt-broker/product/credentials-management.webp)

<div align="center">

[**Read more about client credentials ‚ûú**](https://thingsboard.io/docs/mqtt-broker/user-guide/ui/mqtt-client-credentials/)

</div>

## üìà Real-time MQTT monitoring

Keep a pulse on your IoT environment by tracking key metrics in real-time, ensuring your network's health and performance are always at their peak.

![Real-time MQTT monitoring](https://img.thingsboard.io/mqtt-broker/product/monitor-key-metrics.webp)

<div align="center">

[**Read more about monitoring tools ‚ûú**](https://thingsboard.io/docs/mqtt-broker/user-guide/ui/monitoring/)

</div>

## üîå External system integrations

Enable smooth data transmission between IoT devices, the broker, and external platforms with a reliable and scalable solution ‚Äî all without impacting core broker performance.

![External system integrations](https://img.thingsboard.io/mqtt-broker/product/integrations.webp)

<div align="center">

[**Read more about integrations ‚ûú**](https://thingsboard.io/docs/mqtt-broker/integrations/overview)

</div>

## üß™ MQTT websocket connectivity

Interact with your IoT devices in real-time through the WebSocket client, offering a streamlined and responsive interface for device messaging and monitoring.

![MQTT websocket connectivity](https://img.thingsboard.io/mqtt-broker/product/websocket-client-connectivity.webp)

<div align="center">

[**Read more about WebSocket Client ‚ûú**](https://thingsboard.io/docs/mqtt-broker/user-guide/ui/websocket-client)

</div>

---

## ü´∂ Support
To get support, please visit our **[GitHub issues page](https://github.com/thingsboard/tbmq/issues)** and check the [TBMQ FAQ](https://thingsboard.io/docs/mqtt-broker/faq/).

---

## üìÑ Licenses
This project is released under **[Apache 2.0 License](./LICENSE)**.


